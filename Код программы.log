// ConsoleApplication2.cpp: îïðåäåëÿåò òî÷êó âõîäà äëÿ êîíñîëüíîãî ïðèëîæåíèÿ.

#include "stdafx.h"
#include "iostream"
#include "algorithm"
#include "cstdlib"   "Подключение заголовочного файла для использования rand()"

using namespace std;

//ôóíêöèÿ ñîðòèðîâêè
// ïðèíèìàåò íà âõîä óêàçàòåëü íà ìàññèâ m, èíäåêñ ïåðâîãî è ïîñëåäíåãî ýëåìåíòà â ìàññèâå
void qSort(int *m, int first, int last)
{
	int mid = m[(first + last) / 2]; //âû÷èñëåíèå îïîðíîãî ýëåìåíòà
	int f = first, l = last;
	do
	{
		while (m[f] < mid)
			f++;
		while (m[l] > mid)
			l--;
		if (f <= l) //ïåðåñòàíîâêà ýëåìåíòîâ
		{
			swap(m[f], m[l]);
			f++;
			l--;
		}
	} while (f < l);
	if (first < l) qSort(m, first, l);
	if (f < last) qSort(m, f, last);
}

//ãëàâíàÿ ôóíêöèÿ
int main()
{
	setlocale(LC_ALL, "Rus");

	const int n = 10; // êîë-âî ýëåìåíòîâ ìàññèâà
	int *m = new int[n]; // âûäåëåíèå ïàìÿòè äëÿ ìàññèâà

	cout << "Èñõîäíûé ìàññèâ: ";
	for (int i = 0; i<n; i++)
	{
		m[i] = rand() % 10; // ãåíåðàöèÿ ìàññèâà
		cout << m[i] << " ";
	}

	int first = 0;
	int last = n - 1;

	qSort(m, first, last);

	cout << endl << "Ðåçóëüòèðóþùèé ìàññèâ: ";

	for (int i = 0; i < n; i++)
		cout << m[i] << " ";
	system ("pause");
	delete[]m; // î÷èñòêà ïàìÿòè

	return 0;
}
